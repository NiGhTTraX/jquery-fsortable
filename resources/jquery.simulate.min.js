/*! jQuery Simulate v@0.0.1 http://github.com/jquery/jquery-simulate | jquery.org/license */
(function(e,t){function i(t){var n,r=e(t.ownerDocument);return t=e(t),n=t.offset(),{x:n.left+t.outerWidth()/2-r.scrollLeft(),y:n.top+t.outerHeight()/2-r.scrollTop()}}var n=/^key/,r=/^(?:mouse|contextmenu)|click/;e.fn.simulate=function(t,n){return this.each(function(){new e.simulate(this,t,n)})},e.simulate=function(t,n,r){var i=e.camelCase("simulate-"+n);this.target=t,this.options=r,this[i]?this[i]():this.simulateEvent(t,n,r)},e.extend(e.simulate,{keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},buttonCode:{LEFT:0,MIDDLE:1,RIGHT:2}}),e.extend(e.simulate.prototype,{simulateEvent:function(e,t,n){var r=this.createEvent(t,n);this.dispatchEvent(e,t,r,n)},createEvent:function(e,t){if(n.test(e))return this.keyEvent(e,t);if(r.test(e))return this.mouseEvent(e,t)},mouseEvent:function(n,r){var i,s,o,u;return r=e.extend({bubbles:!0,cancelable:n!=="mousemove",view:window,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:t},r),document.createEvent?(i=document.createEvent("MouseEvents"),i.initMouseEvent(n,r.bubbles,r.cancelable,r.view,r.detail,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,r.relatedTarget||document.body.parentNode),i.pageX===0&&i.pageY===0&&Object.defineProperty&&(s=i.relatedTarget.ownerDocument||document,o=s.documentElement,u=s.body,Object.defineProperty(i,"pageX",{get:function(){return r.clientX+(o&&o.scrollLeft||u&&u.scrollLeft||0)-(o&&o.clientLeft||u&&u.clientLeft||0)}}),Object.defineProperty(i,"pageY",{get:function(){return r.clientY+(o&&o.scrollTop||u&&u.scrollTop||0)-(o&&o.clientTop||u&&u.clientTop||0)}}))):document.createEventObject&&(i=document.createEventObject(),e.extend(i,r),i.button={0:1,1:4,2:2}[i.button]||i.button),i},keyEvent:function(n,r){var i;r=e.extend({bubbles:!0,cancelable:!0,view:window,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:0,charCode:t},r);if(document.createEvent)try{i=document.createEvent("KeyEvents"),i.initKeyEvent(n,r.bubbles,r.cancelable,r.view,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.keyCode,r.charCode)}catch(s){i=document.createEvent("Events"),i.initEvent(n,r.bubbles,r.cancelable),e.extend(i,{view:r.view,ctrlKey:r.ctrlKey,altKey:r.altKey,shiftKey:r.shiftKey,metaKey:r.metaKey,keyCode:r.keyCode,charCode:r.charCode})}else document.createEventObject&&(i=document.createEventObject(),e.extend(i,r));if(!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())||{}.toString.call(window.opera)==="[object Opera]")i.keyCode=r.charCode>0?r.charCode:r.keyCode,i.charCode=t;return i},dispatchEvent:function(e,t,n){e.dispatchEvent?e.dispatchEvent(n):e.fireEvent&&e.fireEvent("on"+t,n)},simulateFocus:function(){function i(){n=!0}var t,n=!1,r=e(this.target);r.bind("focus",i),r[0].focus(),n||(t=e.Event("focusin"),t.preventDefault(),r.trigger(t),r.triggerHandler("focus")),r.unbind("focus",i)},simulateBlur:function(){function i(){n=!0}var t,n=!1,r=e(this.target);r.bind("blur",i),r[0].blur(),setTimeout(function(){r[0].ownerDocument.activeElement===r[0]&&r[0].ownerDocument.body.focus(),n||(t=e.Event("focusout"),t.preventDefault(),r.trigger(t),r.triggerHandler("blur")),r.unbind("blur",i)},1)}}),e.extend(e.simulate.prototype,{simulateDrag:function(){var e=0,t=this.target,n=this.options,r=i(t),s=Math.floor(r.x),o=Math.floor(r.y),u=n.dx||0,a=n.dy||0,f=n.moves||3,l={clientX:s,clientY:o};this.simulateEvent(t,"mousedown",l);for(;e<f;e++)s+=u/f,o+=a/f,l={clientX:Math.round(s),clientY:Math.round(o)},this.simulateEvent(document,"mousemove",l);this.simulateEvent(t,"mouseup",l),this.simulateEvent(t,"click",l)}})})(jQuery);